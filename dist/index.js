!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.mutated=e():t.mutated=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,l(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)})(t)}function a(t,e,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&f(o,n.prototype),o}).apply(null,arguments)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e);var s=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return u(this,(t=l(e)).call.apply(t,[this].concat(r)))}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,c(Array)),n=e,(r=[{key:"last",value:function(){return this[this.length-1]}},{key:"grip",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"noname",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paginator",o={},i=0;i<this.length;i++){var u=t(this[i]);u in o||(o[u]=new e(0)),o[u].push(this[i])}return new v(o,n,r)}},{key:"tros",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return void 0===t?this.sort():this.sort(function(n,r){return(t(n)-t(r))*e}),this.newRef(this)}},{key:"uniq",value:function(t){for(var n={},r=0;r<this.length;r++)n[t(this[r])]=this[r];var o=new e(0);for(var i in n)o.push(n[i]);return o}},{key:"dups",value:function(t){for(var n=new e(0),r=0;r<this.length-1;r++)t(this[r])===t(this[r+1])&&n.unshift(this[r]);return n}},{key:"cascade",value:function(t,e){var n=this.grip(t).vals();n.reverse();for(var r=n.shift();n.length>0;r=n.shift())for(var o=n[0];r.length>0;){var i=r.shift(),u=!0,c=!1,a=void 0;try{for(var f,l=o[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var s=f.value;e(i,s)&&(s.tabs=void 0,s.subs.push(i))}}catch(t){c=!0,a=t}finally{try{u||null==l.return||l.return()}finally{if(c)throw a}}}return r}},{key:"flatten",value:function(){for(var t=a(e,o(this)),n=new e(0);t.length;){var r=t.shift();n.push(r),r.subs.length&&t.push.apply(t,o(r.subs))}return n}},{key:"join",value:function(t,e){for(var n=e.fromCol,r=e.thisCol,o=new Map,i=t.length-1;i>=0;i--)o.set(n,t[i][n]);for(var u=this.length-1;u>=0;u--){var c=this[u][r];o.has(c)&&Object.assign(this[u],o.get(c))}}},{key:"insert",value:function(t,e){return this.splice(t,0,e),this.slice()}},{key:"swap",value:function(t){if(1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)){if(t<this.length-1){var e=[this[t+1],this[t]];this[t]=e[0],this[t+1]=e[1]}}else if(t>0){var n=[this[t],this[t-1]];this[t-1]=n[0],this[t]=n[1]}return this.newRef(this)}},{key:"remove",value:function(t){return this.splice(t,1),this.slice()}},{key:"newRef",value:function(t){console.log(t);var e=t.constructor;return Object.assign(new e,t)}}])&&i(n.prototype,r),s&&i(n,s),e}();function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"无描述",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paginator";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,"iter",function(t){for(var e=Object.entries(n.group),r=0;r<e.length;r++){var o=y(e[r],2),i=o[0],u=o[1];n.group[i]=t(i,u)}return n.newRef(n)}),h(this,"filter",function(t){var e={};for(var r in n.group)t(r)&&(e[r]=n.group[r]);return n.group=e,n.newRef(n)}),this.group=e,this.desc=r,this.tabStyle=o}var e,n,r;return e=t,(n=[{key:"get",value:function(t){return this.group[t]}},{key:"set",value:function(t,e){return this.group[t]=e,this.newRef(this)}},{key:"vals",value:function(){return Object.values(this.group)}},{key:"keys",value:function(){return Object.keys(this.group)}},{key:"grap",value:function(){for(var t=new s(0),e=this.vals(),n=0;n<e.length;n++)t.unshift(e[n]);return t}},{key:"newRef",value:function(t){var e=t.constructor;return Object.assign(new e,t)}}])&&p(e.prototype,n),r&&p(e,r),t}();function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e,n){return(d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&w(o,n.prototype),o}).apply(null,arguments)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cols=e;var r=n.subs,o=void 0===r?new s(0):r,i=n.tabs,u=n.attr,c=void 0===u?{}:u;this.attr=c,this.subs=o,this.tabs=i}var e,n,r;return e=t,(n=[{key:"get",value:function(t){return this.cols[t]}},{key:"set",value:function(t,e){return this.cols[t]=e,this.newRef(this)}},{key:"setAttr",value:function(t,e){return this.attr[t]=e,this.newRef(this)}},{key:"type",value:function(t,e){var n=t.find(function(t){return t.colKey===e});return n&&n.attr&&void 0!==n.attr.type?n.attr.type:typeCheck(this.cols[e])}},{key:"trim",value:function(t){var e={};for(var n in this.cols)-1===t.indexOf(n)&&(e[n]=this.cols[n]);return this.cols=e,this.newRef(this)}},{key:"pick",value:function(t){var e={},n=!0,r=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;if(c in this.cols)e[c]=this.cols[c];else if("oldKey"in c){var a=c.oldKey,f=c.newKey;a in this.cols&&(e[f]=this.cols[a])}}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return this.cols=e,this.newRef(this)}},{key:"keys",value:function(){return Object.keys(this.cols)}},{key:"toList",value:function(t){var e=this;return d(s,O(t.map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(n,!0).forEach(function(e){g(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t,{value:e.cols[t.colKey]})})))}},{key:"toObject",value:function(){return Object.assign({},this.cols)}},{key:"tab",value:function(t,e){return this.tabs=new Sheet(t,{head:e}),this.newRef(this)}},{key:"newRef",value:function(t){var e=t.constructor;return Object.assign(new e,t)}}])&&m(e.prototype,n),r&&m(e,r),t}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return P(this,(t=R(e)).call.apply(t,[this].concat(r)))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,s),n=e,(r=[{key:"createRecord",value:function(){for(var t={String:"",Integer:0,Number:0,Array:[],Object:{},Undefined:void 0,Boolean:!1,Date:new Date,DateInterval:"0-0-0"},e={},n=0;n<this.length;n++){var r=this[n].dataType?this[n].dataType:"String";e[this[n].colKey]=t[r]}return new j(e)}},{key:"sum",value:function(t){for(var e=this,n=this.createRecord(),r=function(r){var o=e[r].colKey,i=e[r].type,u=t.map(function(t){return t.get(o)});if("String"===i){var c=u.every(function(t,e,n){return t===n[0]})?u[0]:"...";n.set(o,c)}else if("Number"===i){var a=u.reduce(function(t,e){return t+e},0);n.set(o,a)}else n.set(o,"...")},o=0;o<this.length;o++)r(o);return n}}])&&S(n.prototype,r),o&&S(n,o),e}();n.d(e,"Group",function(){return v}),n.d(e,"Header",function(){return x}),n.d(e,"List",function(){return s}),n.d(e,"Record",function(){return j})}])});